Outputs: {}
AWSTemplateFormatVersion: 2010-09-09
Parameters:
  InstanceTypeFamily:
    NoEcho: 'true'
    Type: String
    Description: WebServer EC2 instance type family
  LogPublicationControl:
    NoEcho: 'true'
    Type: String
    Description: If true customer service logs will be published to S3.
    AllowedValues:
      - 'true'
      - 'false'
    ConstraintDescription: must be Boolean.
    Default: 'false'
  InstancePort:
    NoEcho: 'true'
    Type: String
    Description: Listen Port
    Default: '80'
  XRayEnabled:
    NoEcho: 'true'
    Type: String
    Description: Enables AWS X-Ray for your environment.
    Default: 'false'
  AWSEBEnvironmentId:
    NoEcho: 'true'
    Type: String
  HooksPkgUrl:
    NoEcho: 'true'
    Type: String
    Description: Hooks package URL
    Default: >-
      https://elasticbeanstalk-platform-assets-ap-southeast-1.s3.ap-southeast-1.amazonaws.com/stalks/eb_nodejs12_amazon_linux_2_1.0.1007.0_20210608222420/lib/hooks.tar.gz
  AWSEBEnvironmentName:
    NoEcho: 'true'
    Type: String
  AWSEBReferrerId:
    NoEcho: 'true'
    Type: String
    Default: ''
  AppSource:
    NoEcho: 'true'
    Type: String
    Description: The url of the application source.
    Default: >-
      https://elasticbeanstalk-platform-assets-ap-southeast-1.s3.ap-southeast-1.amazonaws.com/stalks/eb_nodejs12_amazon_linux_2_1.0.1007.0_20210608222420/sampleapp/EBSampleApp-Nodejs.zip
  ProxyServer:
    NoEcho: 'true'
    Type: String
    Description: Application Proxy Server
    Default: nginx
  EnvironmentVariables:
    NoEcho: 'true'
    Type: CommaDelimitedList
    Description: Program environment variables.
    Default: ''
  AWSEBAgentId:
    NoEcho: 'true'
    Type: String
    Default: ''
  InstanceType:
    NoEcho: 'true'
    Type: String
    Description: WebServer EC2 instance type
    ConstraintDescription: must be a valid EC2 instance type.
  AWSEBEnvironmentBucket:
    NoEcho: 'true'
    Type: String
  ProxyStaticFiles:
    NoEcho: 'true'
    Type: CommaDelimitedList
    Description: A mapping from virtual path to physical path.
    Default: ''
Resources:
  AWSEBV2LoadBalancer:
    Properties:
      SecurityGroups:
        - !Ref AWSEBLoadBalancerSecurityGroup
      Subnets:
        - subnet-ecaab08e
        - subnet-83c19cc5
        - subnet-1fb58f6b
    Type: 'AWS::ElasticLoadBalancingV2::LoadBalancer'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 2935ff7e-8e13-465d-a690-abbaa463dabf
  AWSEBV2LoadBalancerListener:
    Properties:
      LoadBalancerArn: !Ref AWSEBV2LoadBalancer
      DefaultActions:
        - TargetGroupArn: !Ref AWSEBV2LoadBalancerTargetGroup
          Type: forward
      Port: 80
      Protocol: HTTP
    Type: 'AWS::ElasticLoadBalancingV2::Listener'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: fc0312ef-0066-4be5-ac1d-ad390ad735ee
  AWSEBUpdateWaitConditionHandleShglhJ:
    Type: 'AWS::CloudFormation::WaitConditionHandle'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: a5622f1d-8c1a-4d1b-8e2e-0bc76c4849d8
  AWSEBLoadBalancerSecurityGroup:
    Properties:
      GroupDescription: >-
        Elastic Beanstalk created security group used when no ELB security
        groups are specified during ELB creation
      VpcId: vpc-d19c8eb3
      SecurityGroupIngress:
        - CidrIp: 0.0.0.0/0
          FromPort: '80'
          ToPort: '80'
          IpProtocol: tcp
      SecurityGroupEgress:
        - CidrIp: 0.0.0.0/0
          FromPort: '80'
          ToPort: '80'
          IpProtocol: tcp
    Type: 'AWS::EC2::SecurityGroup'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 24c91ed5-9d74-47ee-b3e2-f83ab93e41c8
  AWSEBSecurityGroup:
    Properties:
      GroupDescription: SecurityGroup for ElasticBeanstalk environment.
      SecurityGroupIngress:
        - FromPort: '80'
          ToPort: '80'
          IpProtocol: tcp
          SourceSecurityGroupId: !Ref AWSEBLoadBalancerSecurityGroup
    Type: 'AWS::EC2::SecurityGroup'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: dd725421-a191-4050-9ec7-3d44f80b04c8
  AWSEBUpdateWaitConditionShglhJ:
    Type: 'AWS::CloudFormation::WaitCondition'
    DependsOn:
      - AWSEBV2LoadBalancer
      - AWSEBV2LoadBalancerListener
      - AWSEBLoadBalancerSecurityGroup
      - AWSEBSecurityGroup
      - AWSEBAutoScalingScaleDownPolicy
      - AWSEBInstanceLaunchWaitHandle
      - AWSEBAutoScalingGroup
      - AWSEBInstanceLaunchWaitCondition
      - AWSEBAutoScalingScaleUpPolicy
      - AWSEBEC2LaunchTemplate
      - AWSEBCloudwatchAlarmHigh
      - AWSEBBeanstalkMetadata
      - AWSEBV2LoadBalancerTargetGroup
      - AWSEBCloudwatchAlarmLow
    Properties:
      Timeout: '43200'
      Count: '1'
      Handle: !Ref AWSEBUpdateWaitConditionHandleShglhJ
    Metadata:
      'AWS::CloudFormation::Designer':
        id: b5577b1f-be2b-42bf-a151-47b6b1e4e3a5
  AWSEBAutoScalingScaleDownPolicy:
    Properties:
      ScalingAdjustment: '-1'
      AutoScalingGroupName: !Ref AWSEBAutoScalingGroup
      AdjustmentType: ChangeInCapacity
    Type: 'AWS::AutoScaling::ScalingPolicy'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 1d2568ed-130d-494c-b4eb-02775d162719
  AWSEBInstanceLaunchWaitHandle:
    Type: 'AWS::CloudFormation::WaitConditionHandle'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: e4f1e706-e0b0-4dc7-b487-8c0a225797e0
  AWSEBAutoScalingGroup:
    Metadata:
      ForcingMetadataUpdate: Changing something in the metadata will force re-compuation
      'AWS::ElasticBeanstalk::Ext':
        _AppSourceUrlFileContent:
          url: !Ref AppSource
        _TriggersConfig:
          configDeploy:
            _Command: CMD-ConfigDeploy
            _WatchGroups:
              - _TriggerConfigDeployment
          applicationDeploy:
            _Command: CMD-AppDeploy
            _WatchGroups:
              - _TriggerAppDeployment
        _ParameterTriggers:
          _TriggerConfigDeployment:
            - EnvironmentVariables
            - InstancePort
            - LogPublicationControl
            - XRayEnabled
            - ProxyStaticFiles
            - ProxyServer
          _TriggerAppDeployment:
            - AppSource
        _ContainerConfigFileContent:
          container:
            static_files: !Ref ProxyStaticFiles
            proxy_server: !Ref ProxyServer
            log_group_name_prefix: /aws/elasticbeanstalk
            instance_port: !Ref InstancePort
            xray_enabled: !Ref XRayEnabled
            default_log_list:
              - /var/log/web.stdout.log
              - /var/log/nginx/error.log
              - /var/log/nginx/access.log
              - /var/log/httpd/access_log
              - /var/log/httpd/error_log
            common_log_list:
              - /var/log/eb-engine.log
              - /var/log/eb-hooks.log
            environment_name: !Ref AWSEBEnvironmentName
          optionsettings:
            'aws:elasticbeanstalk:application:environment': !Ref EnvironmentVariables
            'aws:elasticbeanstalk:hostmanager':
              LogPublicationControl: !Ref LogPublicationControl
            'aws:elasticbeanstalk:environment:proxy':
              StaticFiles: !Ref ProxyStaticFiles
              ProxyServer: !Ref ProxyServer
            'aws:elasticbeanstalk:healthreporting:system':
              SystemType: enhanced
          system:
            LogPublicationControl: !Ref LogPublicationControl
            AWSEBAgentId: !Ref AWSEBAgentId
            AWSEBReferrerId: !Ref AWSEBReferrerId
          commands:
            CMD-TailLogs:
              persistent_configuration: true
              stages:
                - name: TailLogs
                  actions:
                    - name: TailLogs
                      type: sh
                      value: >-
                        tailLogs.py --concatenate --conf-path
                        '/opt/elasticbeanstalk/tasks/taillogs.d/*'
                        --location-prefix 'resources/environments/logs/tail/'
            CMD-PreInit:
              refresh_manifest: true
              stages:
                - name: PreInitStage0
                  actions:
                    - name: DownloadSourceBundle
                      type: infra
                      value: /opt/elasticbeanstalk/bin/download-source-bundle
                    - name: PreInitHook
                      type: hook
                      value: preinit
            CMD-Startup:
              stages:
                - name: StartupStage0
                  actions:
                    - name: HealthdLogRotation
                      type: infra
                      value: infra-healthd_log_rotation.rb
                    - name: HealthdHTTPDLogging
                      type: infra
                      value: infra-healthd_httpd_logging.rb
                    - name: HealthdNginxLogging
                      type: infra
                      value: infra-healthd_nginx_logging.rb
                    - name: EbExtensionPreBuild
                      type: infra
                      value: infra-embedded_prebuild.rb
                    - name: AppDeployPreHook
                      type: hook
                      value: appdeploy/pre
                    - name: EbExtensionPostBuild
                      type: infra
                      value: infra-embedded_postbuild.rb
                    - name: InfraCleanEbExtension
                      type: infra
                      value: infra-clean_ebextensions_dir.rb
                - name: StartupStage1
                  actions:
                    - name: AppDeployEnactHook
                      type: hook
                      value: appdeploy/enact
                    - name: AppDeployPostHook
                      type: hook
                      value: appdeploy/post
                    - name: PostInitHook
                      type: hook
                      value: postinit
            CMD-PublishLogs:
              persistent_configuration: true
              stages:
                - name: PublishLogs
                  actions:
                    - name: PublishLogs
                      type: sh
                      value: >-
                        publishLogs.py --de-dupe --conf-path
                        '/opt/elasticbeanstalk/tasks/publishlogs.d/*'
                        --location-prefix 'resources/environments/logs/publish/'
                        --num-concurrent 2
            CMD-ImmutableDeploymentFlip:
              persistent_configuration: true
              stages:
                - name: ImmutableDeploymentFlip
                  actions:
                    - name: FlipCommandRegistration
                      type: infra
                      value: infra-reregister-cfn-hup.rb
            CMD-AppDeploy:
              refresh_manifest: true
              stages:
                - name: AppDeployStage0
                  actions:
                    - name: DownloadSourceBundle
                      type: infra
                      value: /opt/elasticbeanstalk/bin/download-source-bundle
                    - name: EbExtensionPreBuild
                      type: infra
                      value: infra-embedded_prebuild.rb
                    - name: AppDeployPreHook
                      type: hook
                      value: appdeploy/pre
                    - name: EbExtensionPostBuild
                      type: infra
                      value: infra-embedded_postbuild.rb
                    - name: InfraCleanEbextension
                      type: infra
                      value: infra-clean_ebextensions_dir.rb
                - name: AppDeployStage1
                  actions:
                    - name: AppDeployEnactHook
                      type: hook
                      value: appdeploy/enact
                    - name: AppDeployPostHook
                      type: hook
                      value: appdeploy/post
            CMD-BundleLogs:
              persistent_configuration: true
              stages:
                - name: BundleLogs
                  actions:
                    - name: BundleLogs
                      type: sh
                      value: >-
                        bundleLogs.py --conf-path
                        '/opt/elasticbeanstalk/tasks/bundlelogs.d/*'
                        --location-prefix 'resources/environments/logs/bundle/'
            CMD-SelfStartup:
              stages:
                - name: StartupStage0
                  actions:
                    - name: HealthdLogRotation
                      type: infra
                      value: infra-healthd_log_rotation.rb
                    - name: HealthdHTTPDLogging
                      type: infra
                      value: infra-healthd_httpd_logging.rb
                    - name: HealthdNginxLogging
                      type: infra
                      value: infra-healthd_nginx_logging.rb
                    - name: EbExtensionPreBuild
                      type: infra
                      value: infra-embedded_prebuild.rb
                    - name: AppDeployPreHook
                      type: hook
                      value: appdeploy/pre
                    - name: EbExtensionPostBuild
                      type: infra
                      value: infra-embedded_postbuild.rb
                    - name: InfraCleanEbextension
                      type: infra
                      value: infra-clean_ebextensions_dir.rb
                - name: StartupStage1
                  actions:
                    - name: AppDeployEnactHook
                      type: hook
                      value: appdeploy/enact
                    - name: AppDeployPostHook
                      type: hook
                      value: appdeploy/post
                    - name: PostInitHook
                      type: hook
                      value: postinit
            CMD-SystemTailLogs:
              persistent_configuration: true
              stages:
                - name: SystemTailLogs
                  actions:
                    - name: SystemTailLogs
                      type: sh
                      value: >-
                        tailLogs.py --concatenate --conf-path
                        '/opt/elasticbeanstalk/tasks/systemtaillogs.d/*'
                        --location-prefix
                        'resources/environments/logs/systemtail/'
            CMD-RestartAppServer:
              stages:
                - name: RestartAppServerStage0
                  actions:
                    - name: RestartAppServerPreHook
                      type: hook
                      value: restartappserver/pre
                - name: RestartAppServerStage1
                  actions:
                    - name: RestartAppServerEnactHook
                      type: hook
                      value: restartappserver/enact
                    - name: RestartAppServerPostHook
                      type: hook
                      value: restartappserver/post
            CMD-ConfigDeploy:
              refresh_manifest: true
              stages:
                - name: ConfigDeployStage0
                  actions:
                    - name: ConfigDeployPreHook
                      type: hook
                      value: configdeploy/pre
                - name: ConfigDeployStage1
                  actions:
                    - name: ConfigDeployEnactHook
                      type: hook
                      value: configdeploy/enact
                    - name: ConfigDeployPostHook
                      type: hook
                      value: configdeploy/post
        _LaunchS3URL: >-
          https://elasticbeanstalk-ap-southeast-1.s3.ap-southeast-1.amazonaws.com/environments/892a5d6e-67c9-40e9-8728-ea993189bf34/launch_control?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20210628T102101Z&X-Amz-SignedHeaders=host&X-Amz-Expires=43200&X-Amz-Credential=AKIAJLM3XMMNTVE6UKPQ%2F20210628%2Fap-southeast-1%2Fs3%2Faws4_request&X-Amz-Signature=bf2fa8af59bd4e4d6bb560a0683d9e0c8cccf539e82bdb84595c2b07a85ee133
        _API:
          _Commands:
            CMD-TailLogs:
              _Stages:
                01_enact:
                  - InfoTask-TailLogs
            CMD-Startup:
              _RunStaged: 'true'
              _Stages:
                01_pre: []
                02_enact: []
            CMD-AppDeploy:
              _RunStaged: 'true'
              _Stages:
                01_pre: []
                02_enact: []
            CMD-BundleLogs:
              _Stages:
                01_enact:
                  - InfoTask-BundleLogs
            CMD-SystemTailLogs:
              _Stages:
                01_enact:
                  - InfoTask-SystemTailLogs
            CMD-PatchInstance:
              _Stages:
                01_enact:
                  - _Infra-PatchInstance
            CMD-RestartAppServer:
              _RunStaged: 'false'
              _Stages:
                01_enact: []
                02_enact: []
            CMD-ConfigDeploy:
              _RunStaged: 'true'
              _Stages:
                01_pre: []
                02_enact: []
        AvailabilityZoneCount: Any
        InstanceSignalURL: !Ref AWSEBInstanceLaunchWaitHandle
        _EnvironmentInfoTaskMapping: EnvironmentInfoTasks
      'AWS::CloudFormation::Init':
        Infra-WriteTailLogsConf:
          files:
            /opt/elasticbeanstalk/tasks/taillogs.d/eb-activity.conf:
              mode: '000644'
              content: !Join 
                - |+

                - - /var/log/eb-commandprocessor.log
                  - /var/log/eb-activity.log
                  - ''
            /opt/elasticbeanstalk/tasks/taillogs.d/eb-version-deployment.conf:
              content: !Join 
                - |+

                - - /var/log/eb-version-deployment.log
                  - ''
        Infra-WriteBundleLogsConf:
          files:
            /opt/elasticbeanstalk/tasks/bundlelogs.d/eb-system.conf:
              mode: '000644'
              content: !Join 
                - |+

                - - /var/log/eb-cfn-init*
                  - /var/log/eb-tools*
                  - /var/log/eb-publish-logs*
                  - /var/log/eb-commandprocessor*
                  - /var/log/eb-activity*
                  - ''
            /opt/elasticbeanstalk/tasks/bundlelogs.d/cfn-system.conf:
              mode: '000644'
              content: !Join 
                - |+

                - - /var/log/cfn-hup*
                  - /var/log/cfn-init*
                  - /var/log/cfn-wire*
                  - ''
            /opt/elasticbeanstalk/tasks/bundlelogs.d/eb-version-deployment.conf:
              content: !Join 
                - |+

                - - /var/log/eb-version-deployment.log
                  - ''
            /opt/elasticbeanstalk/tasks/bundlelogs.d/cloud-init-system.conf:
              mode: '000644'
              content: !Join 
                - |+

                - - /var/log/cloud-init*
                  - ''
            /opt/elasticbeanstalk/tasks/bundlelogs.d/system.conf:
              mode: '000644'
              content: !Join 
                - |+

                - - /var/log/cron
                  - /var/log/messages
                  - /var/log/yum.log
                  - ''
        InfoTask-TailLogs:
          commands:
            taillogs:
              command: !Join 
                - ''
                - - >-
                    tailLogs.py --concatenate --conf-path
                    '/opt/elasticbeanstalk/tasks/taillogs.d/*'
                    --location-prefix 
                  - !FindInMap 
                    - EnvironmentInfoTasks
                    - tail
                    - LocationPrefix
        InfoTask-BundleLogs:
          commands:
            bundlelogs:
              command: !Join 
                - ''
                - - >-
                    bundleLogs.py --conf-path
                    '/opt/elasticbeanstalk/tasks/bundlelogs.d/*'
                    --location-prefix 
                  - !FindInMap 
                    - EnvironmentInfoTasks
                    - bundle
                    - LocationPrefix
        AWSEBCfnHupEndpointOverride:
          files:
            /etc/cfn/endpoints-override.json:
              mode: '000644'
              owner: root
              content: !Join 
                - ''
                - - '{'
                  - |+

                  - '  "Services": {'
                  - |+

                  - '    "AmazonS3": {'
                  - |+

                  - '      "Endpoints": ['
                  - |+

                  - '          { "Region": "us-east-1", "Hostname": "s3.amazonaws.com", "Default": true },'
                  - |+

                  - '          { "Region": "us-east-1", "Hostname": "s3-external-1.amazonaws.com" },'
                  - |+

                  - '          { "Region": "us-east-1", "Hostname": "s3-external-2.amazonaws.com" }'
                  - |+

                  - '      ]'
                  - |+

                  - '    },'
                  - |+

                  - '    "AmazonSQS": {'
                  - |+

                  - '      "Endpoints": ['
                  - |+

                  - '      ]'
                  - |+

                  - '    }'
                  - |+

                  - '  }'
                  - |+

                  - '}'
                  - |+

              group: root
          commands:
            clearbackupfiles:
              command: rm -f /etc/cfn/endpoints-override.json.bak*
        AWSEBBaseConfig:
          files:
            /opt/elasticbeanstalk/config/ebenvinfo/resource:
              mode: '000440'
              owner: root
              content: AWSEBAutoScalingGroup
              group: root
            /opt/elasticbeanstalk/config/platformconfig/guid.json:
              mode: '000440'
              owner: root
              source: >-
                https://elasticbeanstalk-platform-assets-ap-southeast-1.s3.ap-southeast-1.amazonaws.com/stalks/eb_nodejs12_amazon_linux_2_1.0.1007.0_20210608222420/configs/guid.json
              group: root
            /opt/elasticbeanstalk/config/platformconfig/eventmessages.txt:
              mode: '000440'
              owner: root
              source: >-
                https://elasticbeanstalk-platform-assets-ap-southeast-1.s3.ap-southeast-1.amazonaws.com/stalks/eb_nodejs12_amazon_linux_2_1.0.1007.0_20210608222420/configs/eventmessages.txt
              group: root
            /opt/elasticbeanstalk/config/ebenvinfo/envid:
              mode: '000440'
              owner: root
              content: !Ref AWSEBEnvironmentId
              group: root
            /opt/elasticbeanstalk/config/ebenvinfo/envbucket:
              mode: '000440'
              owner: root
              content: !Ref AWSEBEnvironmentBucket
              group: root
            /opt/elasticbeanstalk/config/platformconfig/generalconfig.json:
              mode: '000440'
              owner: root
              source: >-
                https://elasticbeanstalk-platform-assets-ap-southeast-1.s3.ap-southeast-1.amazonaws.com/stalks/eb_nodejs12_amazon_linux_2_1.0.1007.0_20210608222420/configs/generalconfig.json
              group: root
            /opt/elasticbeanstalk/config/ebenvinfo/launchwaithandle:
              mode: '000440'
              owner: root
              content: !Ref AWSEBInstanceLaunchWaitHandle
              group: root
            /opt/elasticbeanstalk/config/platformconfig/platformconfig.json:
              mode: '000440'
              owner: root
              source: >-
                https://elasticbeanstalk-platform-assets-ap-southeast-1.s3.ap-southeast-1.amazonaws.com/stalks/eb_nodejs12_amazon_linux_2_1.0.1007.0_20210608222420/configs/platformconfig.json
              group: root
            /opt/elasticbeanstalk/config/healthd/healthdendpoint:
              mode: '000440'
              owner: root
              content: !Join 
                - ''
                - - '{'
                  - '"healthd_endpoint":'
                  - '"'
                  - !FindInMap 
                    - AWSEBOptions
                    - options
                    - AWSEBHealthdEndpoint
                  - '"'
                  - '}'
              group: root
            /opt/elasticbeanstalk/config/healthd/healthdgroupid:
              mode: '000440'
              owner: root
              content: !Join 
                - ''
                - - '{'
                  - '"groupId":'
                  - '"'
                  - !FindInMap 
                    - AWSEBOptions
                    - options
                    - AWSEBHealthdGroupId
                  - '"'
                  - '}'
              group: root
            /opt/elasticbeanstalk/config/platformassetsurl:
              mode: '000440'
              owner: root
              content: !FindInMap 
                - AWSEBOptions
                - options
                - platformAssetsUrl
              group: root
            /opt/elasticbeanstalk/config/platformconfig/packages.json:
              mode: '000440'
              owner: root
              source: >-
                https://elasticbeanstalk-platform-assets-ap-southeast-1.s3.ap-southeast-1.amazonaws.com/stalks/eb_nodejs12_amazon_linux_2_1.0.1007.0_20210608222420/configs/packages.json
              group: root
            /opt/elasticbeanstalk/config/ebenvinfo/region:
              mode: '000440'
              owner: root
              content: !Ref 'AWS::Region'
              group: root
          commands:
            clearbackupfiles:
              command: >-
                cd /opt/elasticbeanstalk/config && find . -name "*.bak" -type f
                -delete
        Hook-PreAppDeploy:
          commands:
            hooks:
              command: echo place holder
        InfoTask-SystemTailLogs:
          commands:
            systemtaillogs:
              command: !Join 
                - ''
                - - >-
                    tailLogs.py --conf-path
                    '/opt/elasticbeanstalk/tasks/systemtaillogs.d/*'
                    --location-prefix 
                  - !FindInMap 
                    - EnvironmentInfoTasks
                    - systemtail
                    - LocationPrefix
        Infra-WriteSystemTailLogsConf:
          files:
            /opt/elasticbeanstalk/tasks/systemtaillogs.d/eb-system.conf:
              mode: '000644'
              content: !Join 
                - |+

                - - /var/log/eb-cfn-init.log
                  - /var/log/eb-tools.log
                  - /var/log/eb-publish-logs.log
                  - /var/log/eb-commandprocessor.log
                  - /var/log/eb-activity.log
                  - ''
            /opt/elasticbeanstalk/tasks/systemtaillogs.d/eb-version-deployment.conf:
              content: !Join 
                - |+

                - - /var/log/eb-version-deployment.log
                  - ''
            /opt/elasticbeanstalk/tasks/systemtaillogs.d/cfn-system.conf:
              mode: '000644'
              content: !Join 
                - |+

                - - /var/log/cfn-hup.log
                  - /var/log/cfn-init.log
                  - ''
            /opt/elasticbeanstalk/tasks/systemtaillogs.d/system.conf:
              mode: '000644'
              content: !Join 
                - |+

                - - /var/log/cron
                  - /var/log/messages
                  - /var/log/yum.log
                  - ''
            /opt/elasticbeanstalk/tasks/systemtaillogs.d/cloud-init-system.conf:
              mode: '000644'
              content: !Join 
                - |+

                - - /var/log/cloud-init.log
                  - ''
        Infra-PatchInstance:
          files:
            /opt/elasticbeanstalk/bin/patch_instance:
              mode: '000750'
              owner: root
              source: !Select 
                - 0
                - !FindInMap 
                  - AWSEBOptions
                  - options
                  - ebpatchscripturl
              group: root
          commands:
            01executepatch:
              command: /opt/elasticbeanstalk/bin/patch_instance
        Infra-InstallContainerHooksPkg:
          commands:
            01download_container_hooks:
              command: !Join 
                - ''
                - - curl -sS --retry 3 '
                  - !Ref HooksPkgUrl
                  - ''' -o /tmp/hooks.tar.gz'
            03cleanup:
              command: rm -f /tmp/hooks.tar.gz
            00mkdir:
              command: mkdir -p /opt/elasticbeanstalk
            02install_container_hooks:
              command: >-
                tar zxf /tmp/hooks.tar.gz --no-same-owner --no-same-permission
                -C /opt/elasticbeanstalk
        Infra-WritePublishLogsCron:
          files:
            /etc/cron.d/publishlogs:
              mode: '000644'
              content: !Join 
                - ''
                - - SHELL=/bin/bash
                  - |+

                  - 'PATH=/sbin:/bin:/usr/sbin:/usr/bin'
                  - |+

                  - MAILTO=""
                  - |+

                  - HOME=/
                  - |+

                  - '10,30,50 * * * * root '
                  - >-
                    publishLogs.py --de-dupe --conf-path
                    '/opt/elasticbeanstalk/tasks/publishlogs.d/*'
                    --location-prefix 
                  - !FindInMap 
                    - EnvironmentInfoTasks
                    - publish
                    - LocationPrefix
                  - ' --num-concurrent 2'
                  - |+

                  - '05,25,45 * * * * root '
                  - clearStaleLogPublishingRecords.py
                  - |+

        Infra-WriteApplication1:
          commands:
            01mkdir:
              command: >-
                rm -rf /opt/elasticbeanstalk/deploy/appsource/; mkdir -p
                /opt/elasticbeanstalk/deploy/appsource/
        configSets:
          Infra-WriteTailLogsConf:
            - Infra-WriteTailLogsConf
          Infra-WriteBundleLogsConf:
            - Infra-WriteBundleLogsConf
          InfoTask-TailLogs:
            - InfoTask-TailLogs
          InfoTask-BundleLogs:
            - InfoTask-BundleLogs
          _OnInstanceReboot:
            - AWSEBBaseConfig
          _AppInstall:
            - Hook-PreAppDeploy
          Infra-EmbeddedPreBuild: []
          Hook-PreAppDeploy:
            - Hook-PreAppDeploy
          InfoTask-SystemTailLogs:
            - InfoTask-SystemTailLogs
          Infra-WriteSystemTailLogsConf:
            - Infra-WriteSystemTailLogsConf
          _OnInstanceBoot:
            - AWSEBBaseConfig
            - AWSEBCfnHupEndpointOverride
          Infra-EmbeddedPostBuild: []
          Infra-WritePublishLogsCron:
            - Infra-WritePublishLogsCron
          Infra-WriteApplication1:
            - Infra-WriteApplication1
          Infra-WriteApplication2:
            - Infra-WriteApplication2
          Infra-WritePublishLogsConf:
            - Infra-WritePublishLogsConf
          _Infra-PatchInstance:
            - Infra-PatchInstance
        Infra-WriteApplication2:
          files:
            /opt/elasticbeanstalk/bin/download_source_bundle:
              owner: root
              mode: '000750'
              source: !Select 
                - 0
                - !FindInMap 
                  - AWSEBOptions
                  - options
                  - downloadSourceBundleScriptLocation
              group: root
          commands:
            01downloadVersion:
              command: /opt/elasticbeanstalk/bin/download_source_bundle
            02deleteVersionDownloadScriptFile:
              command: rm /opt/elasticbeanstalk/bin/download_source_bundle
        Infra-WritePublishLogsConf:
          files: {}
      'AWS::CloudFormation::Designer':
        id: 961cfe44-12be-4268-a281-01c398660e15
    Type: 'AWS::AutoScaling::AutoScalingGroup'
    DependsOn: AWSEBBeanstalkMetadata
    UpdatePolicy:
      AutoScalingReplacingUpdate:
        WillReplace: true
    Properties:
      MinSize: '1'
      CapacityRebalance: false
      TargetGroupARNs:
        - !Ref AWSEBV2LoadBalancerTargetGroup
      AvailabilityZones:
        - ap-southeast-1a
        - ap-southeast-1b
      Cooldown: '360'
      LaunchTemplate:
        Version: !GetAtt 
          - AWSEBEC2LaunchTemplate
          - LatestVersionNumber
        LaunchTemplateId: !Ref AWSEBEC2LaunchTemplate
      MaxSize: '4'
      Tags:
        - Value: !Ref AWSEBEnvironmentName
          Key: 'elasticbeanstalk:environment-name'
          PropagateAtLaunch: true
        - Value: !Ref AWSEBEnvironmentName
          Key: Name
          PropagateAtLaunch: true
        - Value: !Ref AWSEBEnvironmentId
          Key: 'elasticbeanstalk:environment-id'
          PropagateAtLaunch: true
  AWSEBInstanceLaunchWaitCondition:
    Type: 'AWS::CloudFormation::WaitCondition'
    DependsOn: AWSEBAutoScalingGroup
    Properties:
      Timeout: '900'
      Count: '1'
      Handle: !Ref AWSEBInstanceLaunchWaitHandle
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 2512f34d-f8ce-4d7b-ae91-040fb9be49ed
  AWSEBAutoScalingScaleUpPolicy:
    Properties:
      ScalingAdjustment: '1'
      AutoScalingGroupName: !Ref AWSEBAutoScalingGroup
      AdjustmentType: ChangeInCapacity
    Type: 'AWS::AutoScaling::ScalingPolicy'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 8605bf7b-b7cd-4885-b0ae-33c92d0ddd45
  AWSEBEC2LaunchTemplate:
    Type: 'AWS::EC2::LaunchTemplate'
    Properties:
      LaunchTemplateData:
        SecurityGroups:
          - !Ref AWSEBSecurityGroup
        MetadataOptions:
          HttpPutResponseHopLimit: 1
          HttpTokens: required
        UserData: !Base64 
          'Fn::Join':
            - ''
            - - >-
                Content-Type: multipart/mixed;
                boundary="===============5189065377222898407=="
              - |+

              - 'MIME-Version: 1.0'
              - |+

              - ''
              - |+

              - '--===============5189065377222898407=='
              - |+

              - 'Content-Type: text/cloud-config; charset="us-ascii"'
              - |+

              - 'MIME-Version: 1.0'
              - |+

              - 'Content-Transfer-Encoding: 7bit'
              - |+

              - 'Content-Disposition: attachment; filename="cloud-config.txt"'
              - |+

              - ''
              - |+

              - '#cloud-config'
              - |+

              - 'repo_upgrade: none'
              - |+

              - 'repo_releasever: '
              - !FindInMap 
                - ContainerMeta
                - AMIMeta
                - RepoReleaseVersion
              - |+

              - !FindInMap 
                - AWSEBOptions
                - options
                - CloudConfigOptions
              - |+

              - ''
              - |+

              - '--===============5189065377222898407=='
              - |+

              - 'Content-Type: text/x-shellscript; charset="us-ascii"'
              - |+

              - 'MIME-Version: 1.0'
              - |+

              - 'Content-Transfer-Encoding: 7bit'
              - |+

              - 'Content-Disposition: attachment; filename="user-data.txt"'
              - |+


              - '#!/bin/bash'
              - |+

              - >-
                exec > >(tee -a /var/log/eb-cfn-init.log|logger -t [eb-cfn-init]
                -s 2>/dev/console) 2>&1
              - |+

              - 'echo [`date -u +"%Y-%m-%dT%H:%M:%SZ"`] Started EB User Data'
              - |+

              - set -x
              - |+

              - |+


              - 'function sleep_delay '
              - |+

              - '{'
              - |+

              - '  if (( $SLEEP_TIME < $SLEEP_TIME_MAX )); then '
              - |+

              - '    echo Sleeping $SLEEP_TIME'
              - |+

              - '    sleep $SLEEP_TIME  '
              - |+

              - '    SLEEP_TIME=$(($SLEEP_TIME * 2)) '
              - |+

              - '  else '
              - |+

              - '    echo Sleeping $SLEEP_TIME_MAX  '
              - |+

              - '    sleep $SLEEP_TIME_MAX  '
              - |+

              - '  fi'
              - |+

              - '}'
              - |+


              - '# Executing bootstrap script'
              - |+

              - SLEEP_TIME=10
              - |+

              - SLEEP_TIME_MAX=3600
              - |+

              - 'while true; do '
              - |+

              - '  curl '
              - !FindInMap 
                - AWSEBOptions
                - options
                - UserDataScript
              - ' > /tmp/ebbootstrap.sh '
              - |+

              - '  RESULT=$?'
              - |+

              - '  if [[ "$RESULT" -ne 0 ]]; then '
              - |+

              - '    sleep_delay '
              - |+

              - '  else'
              - |+

              - '    SLEEP_TIME=2'
              - |+

              - '    /bin/bash /tmp/ebbootstrap.sh '
              - '    '''
              - !Ref AWSEBInstanceLaunchWaitHandle
              - ''''
              - '    '''
              - !Ref 'AWS::StackId'
              - ''''
              - '    '''
              - !FindInMap 
                - AWSEBOptions
                - options
                - AWSEBHealthdGroupId
              - ''''
              - '    '''
              - !FindInMap 
                - AWSEBOptions
                - options
                - AWSEBHealthdEndpoint
              - ''''
              - '    '''
              - !FindInMap 
                - AWSEBOptions
                - options
                - HealthdProxyLogLocation
              - ''''
              - '    '''
              - !FindInMap 
                - AWSEBOptions
                - options
                - platformAssetsUrl
              - ''''
              - '    '''
              - !Ref 'AWS::Region'
              - ''''
              - |+

              - '    RESULT=$?'
              - |+

              - '    if [[ "$RESULT" -ne 0 ]]; then '
              - |+

              - '      sleep_delay '
              - |+

              - '    else '
              - |+

              - '      exit 0  '
              - |+

              - '    fi '
              - |+

              - '  fi '
              - |+

              - done
              - |+


              - '--===============5189065377222898407==-- '
        ImageId: !FindInMap 
          - AWSEBAWSRegionArch2AMI
          - !Ref 'AWS::Region'
          - hvm
        IamInstanceProfile:
          Name: aws-elasticbeanstalk-ec2-role
        InstanceType: !Ref InstanceType
        Monitoring:
          Enabled: false
    Metadata:
      'AWS::CloudFormation::Designer':
        id: d9507853-013d-4f5c-b54b-4127ae436ae4
  AWSEBCloudwatchAlarmHigh:
    Properties:
      AlarmActions:
        - !Ref AWSEBAutoScalingScaleUpPolicy
      MetricName: NetworkOut
      ComparisonOperator: GreaterThanThreshold
      Statistic: Average
      AlarmDescription: ElasticBeanstalk Default Scale Up alarm
      Period: '300'
      Dimensions:
        - Value: !Ref AWSEBAutoScalingGroup
          Name: AutoScalingGroupName
      EvaluationPeriods: '1'
      Namespace: AWS/EC2
      Threshold: '6000000'
    Type: 'AWS::CloudWatch::Alarm'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: e1b39aa6-7536-4a01-b2c1-bb9e59e23f2f
  AWSEBBeanstalkMetadata:
    Metadata:
      'AWS::ElasticBeanstalk::Ext':
        Parameters:
          InstanceTypeFamily: !Ref InstanceTypeFamily
          LogPublicationControl: !Ref LogPublicationControl
          InstancePort: !Ref InstancePort
          XRayEnabled: !Ref XRayEnabled
          AWSEBEnvironmentId: !Ref AWSEBEnvironmentId
          HooksPkgUrl: !Ref HooksPkgUrl
          AWSEBEnvironmentName: !Ref AWSEBEnvironmentName
          AWSEBReferrerId: !Ref AWSEBReferrerId
          AppSource: !Ref AppSource
          ProxyServer: !Ref ProxyServer
          EnvironmentVariables: !Ref EnvironmentVariables
          AWSEBAgentId: !Ref AWSEBAgentId
          InstanceType: !Ref InstanceType
          AWSEBEnvironmentBucket: !Ref AWSEBEnvironmentBucket
          ProxyStaticFiles: !Ref ProxyStaticFiles
      'AWS::ElasticBeanstalk::Metadata':
        EnvironmentId: e-ksqn4bxzdv
        RequestId: c2c3d07c-e55a-4398-8aae-47b94c3e53e9
        Version: c2c3d07c-e55a-4398-8aae-47b94c3e53e9
        EnvironmentName: Devopsaws-env
        DateUpdated: '2021-06-28T10:20:59'
        DateCreated: '2021-06-28T09:41:39'
        DeploymentVersion: 2
        DateLastModified: '2021-06-28T10:21:05'
        Name: e-ksqn4bxzdv
      'AWS::CloudFormation::Designer':
        id: e790efa0-af98-4fa9-87c6-4c444ee04b6a
    Type: 'AWS::CloudFormation::WaitConditionHandle'
  AWSEBV2LoadBalancerTargetGroup:
    Properties:
      HealthCheckIntervalSeconds: 15
      VpcId: vpc-d19c8eb3
      HealthyThresholdCount: 3
      HealthCheckPath: /
      Port: 80
      TargetGroupAttributes:
        - Value: '20'
          Key: deregistration_delay.timeout_seconds
      Protocol: HTTP
      UnhealthyThresholdCount: 5
      HealthCheckTimeoutSeconds: 5
    Type: 'AWS::ElasticLoadBalancingV2::TargetGroup'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: b01cc74c-72fc-4d43-be53-64d4670228c2
  AWSEBCloudwatchAlarmLow:
    Properties:
      AlarmActions:
        - !Ref AWSEBAutoScalingScaleDownPolicy
      MetricName: NetworkOut
      ComparisonOperator: LessThanThreshold
      Statistic: Average
      AlarmDescription: ElasticBeanstalk Default Scale Down alarm
      Period: '300'
      Dimensions:
        - Value: !Ref AWSEBAutoScalingGroup
          Name: AutoScalingGroupName
      EvaluationPeriods: '1'
      Namespace: AWS/EC2
      Threshold: '2000000'
    Type: 'AWS::CloudWatch::Alarm'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: eb9d4912-e5ca-45cc-ae77-aea35b2d85b0
Description: 'AWS Elastic Beanstalk environment (Name: ''Devopsaws-env''  Id: ''e-ksqn4bxzdv'')'
Mappings:
  EnvironmentInfoTasks:
    systemtail:
      LocationPrefix: resources/environments/logs/systemtail/
      AutoClean: 'true'
      CommandName: CMD-SystemTailLogs
    tail:
      LocationPrefix: resources/environments/logs/tail/
      AutoClean: 'true'
      CommandName: CMD-TailLogs
    publish:
      LocationPrefix: resources/environments/logs/publish/
    bundle:
      LocationPrefix: resources/environments/logs/bundle/
      AutoClean: 'true'
      CommandName: CMD-BundleLogs
  AWSEBAWSRegionArch2AMIBase:
    ap-south-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0ad704c126371a549
    eu-south-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0c2bd6c2ff55b8bf3
    us-gov-east-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0a343d186efba05a6
    ca-central-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-07625b74039b1a58b
    eu-central-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0bad4a5e987bdebde
    us-west-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0b2ca94b5b49e0132
    us-west-2:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0800fc0fa715fdcfe
    af-south-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0fcccef07c9f9a121
    eu-west-3:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-00c08ad1a6ca8ca7c
    eu-north-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0e6f4c2b6023d32fb
    DEVO:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0aeeebd8d2ab47354
    eu-west-2:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-089539692cca55c6c
    eu-west-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0ac43988dfd31ab9a
    ap-northeast-3:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0a4fb3ab11fbc4969
    ap-northeast-2:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-02af1a55fd4da5ab1
    ap-northeast-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-001f026eaf69770b4
    me-south-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0e034554563fb01d5
    sa-east-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-07bfd9965e7b972d1
    ap-east-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0b014b23d42166d9f
    cn-north-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0cc197a96f4583f55
    us-gov-west-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-031312bb9c614129c
    ap-southeast-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0e8e39877665a7c92
    ap-southeast-2:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0d2fb06f3c1484132
    us-east-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0aeeebd8d2ab47354
    us-east-2:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-0d8d212151031f51c
    cn-northwest-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-050d3cee094f16bfa
  AWSEBOptions:
    options:
      OptionDefinitionOverrideEnabled: true
      platformAssetsUrl: >-
        https://elasticbeanstalk-platform-assets-ap-southeast-1.s3.ap-southeast-1.amazonaws.com/stalks/eb_nodejs12_amazon_linux_2_1.0.1007.0_20210608222420
      CloudConfigOptions: |-
        cloud_final_modules:
         - [scripts-user, always]
      DefaultsScript: >-
        /opt/elasticbeanstalk/config/private/containercommandsupport/container-defaults.sh
      LeaderTestScript: >-
        /opt/elasticbeanstalk/config/private/containercommandsupport/leader-test.sh
      AWSEBHealthdGroupId: 3d3553c7-85fb-4040-ae4d-31a10476ab5c
      HaltStartupCommandsOnFailure: 'true'
      downloadSourceBundleScriptLocation:
        - >-
          https://elasticbeanstalk-env-resources-ap-southeast-1.s3.amazonaws.com/eb_patching_resources/download_source_bundle.py
      UserDataScript: >-
        https://elasticbeanstalk-platform-assets-ap-southeast-1.s3.ap-southeast-1.amazonaws.com/stalks/eb_nodejs12_amazon_linux_2_1.0.1007.0_20210608222420/lib/UserDataScript.sh
      DefaultSSHPort: '22'
      LaunchType: Migration
      ProxyServer: nginx
      FastVersionDeployment: 'true'
      AWSEBHealthdEndpoint: 'https://elasticbeanstalk-health.ap-southeast-1.amazonaws.com'
      ServiceRole: aws-elasticbeanstalk-service-role
      EmbeddedConfigsetsEnabled: 'true'
      EBSNSTopicArn: ''
      HealthdProxyLogLocation: ''
      CommandBasedLeaderElection: 'true'
      nodeploymentOnStartup: 'true'
      ebpatchscripturl:
        - >-
          https://s3-ap-southeast-1.amazonaws.com/elasticbeanstalk-env-resources-ap-southeast-1/eb_patching_resources/patch_instance.py
  AWSEBAWSRegionArch2AMI:
    ap-southeast-1:
      pv: ''
      graphics: ''
      gpu: ''
      hvm: ami-03e74dbc8e2a1d422
  ContainerMeta:
    AMIMeta:
      RepoReleaseVersion: '2.0'
      AMIVersion: 2.0.20210525
Metadata:
  'AWS::CloudFormation::Designer':
    b01cc74c-72fc-4d43-be53-64d4670228c2:
      size:
        width: 60
        height: 60
      position:
        x: 60
        'y': 90
      z: 1
      embeds: []
    e790efa0-af98-4fa9-87c6-4c444ee04b6a:
      size:
        width: 60
        height: 60
      position:
        x: 180
        'y': 90
      z: 1
      embeds: []
    e4f1e706-e0b0-4dc7-b487-8c0a225797e0:
      size:
        width: 60
        height: 60
      position:
        x: 60
        'y': 210
      z: 1
      embeds: []
    24c91ed5-9d74-47ee-b3e2-f83ab93e41c8:
      size:
        width: 60
        height: 60
      position:
        x: 180
        'y': 210
      z: 1
      embeds: []
    dd725421-a191-4050-9ec7-3d44f80b04c8:
      size:
        width: 60
        height: 60
      position:
        x: 300
        'y': 90
      z: 1
      embeds: []
    d9507853-013d-4f5c-b54b-4127ae436ae4:
      size:
        width: 60
        height: 60
      position:
        x: 300
        'y': 210
      z: 1
      embeds: []
    961cfe44-12be-4268-a281-01c398660e15:
      size:
        width: 60
        height: 60
      position:
        x: 60
        'y': 330
      z: 1
      embeds: []
      isassociatedwith:
        - b01cc74c-72fc-4d43-be53-64d4670228c2
      dependson:
        - e790efa0-af98-4fa9-87c6-4c444ee04b6a
    8605bf7b-b7cd-4885-b0ae-33c92d0ddd45:
      size:
        width: 60
        height: 60
      position:
        x: 180
        'y': 330
      z: 1
      embeds: []
      isassociatedwith:
        - 961cfe44-12be-4268-a281-01c398660e15
    e1b39aa6-7536-4a01-b2c1-bb9e59e23f2f:
      size:
        width: 60
        height: 60
      position:
        x: 300
        'y': 330
      z: 1
      embeds: []
    2512f34d-f8ce-4d7b-ae91-040fb9be49ed:
      size:
        width: 60
        height: 60
      position:
        x: 420
        'y': 90
      z: 1
      embeds: []
      isassociatedwith:
        - e4f1e706-e0b0-4dc7-b487-8c0a225797e0
      dependson:
        - 961cfe44-12be-4268-a281-01c398660e15
    1d2568ed-130d-494c-b4eb-02775d162719:
      size:
        width: 60
        height: 60
      position:
        x: 420
        'y': 210
      z: 1
      embeds: []
      isassociatedwith:
        - 961cfe44-12be-4268-a281-01c398660e15
    eb9d4912-e5ca-45cc-ae77-aea35b2d85b0:
      size:
        width: 60
        height: 60
      position:
        x: 420
        'y': 330
      z: 1
      embeds: []
    a5622f1d-8c1a-4d1b-8e2e-0bc76c4849d8:
      size:
        width: 60
        height: 60
      position:
        x: 60
        'y': 450
      z: 1
      embeds: []
    2935ff7e-8e13-465d-a690-abbaa463dabf:
      size:
        width: 60
        height: 60
      position:
        x: 180
        'y': 450
      z: 1
      embeds: []
      isassociatedwith:
        - 24c91ed5-9d74-47ee-b3e2-f83ab93e41c8
    fc0312ef-0066-4be5-ac1d-ad390ad735ee:
      size:
        width: 60
        height: 60
      position:
        x: 300
        'y': 450
      z: 1
      embeds: []
    b5577b1f-be2b-42bf-a151-47b6b1e4e3a5:
      size:
        width: 60
        height: 60
      position:
        x: 420
        'y': 450
      z: 1
      embeds: []
      isassociatedwith:
        - a5622f1d-8c1a-4d1b-8e2e-0bc76c4849d8
      dependson:
        - 2935ff7e-8e13-465d-a690-abbaa463dabf
        - fc0312ef-0066-4be5-ac1d-ad390ad735ee
        - 24c91ed5-9d74-47ee-b3e2-f83ab93e41c8
        - dd725421-a191-4050-9ec7-3d44f80b04c8
        - 1d2568ed-130d-494c-b4eb-02775d162719
        - e4f1e706-e0b0-4dc7-b487-8c0a225797e0
        - 961cfe44-12be-4268-a281-01c398660e15
        - 2512f34d-f8ce-4d7b-ae91-040fb9be49ed
        - 8605bf7b-b7cd-4885-b0ae-33c92d0ddd45
        - d9507853-013d-4f5c-b54b-4127ae436ae4
        - e1b39aa6-7536-4a01-b2c1-bb9e59e23f2f
        - e790efa0-af98-4fa9-87c6-4c444ee04b6a
        - b01cc74c-72fc-4d43-be53-64d4670228c2
        - eb9d4912-e5ca-45cc-ae77-aea35b2d85b0
